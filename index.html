<!DOCTYPE html>
    <head>
        <style>
            .inputOption {

            }
        </style>
    </head>
        <body>
        <div class="inputOption">
            <label for="funds">Amount of funds available: </label>
            <input type="number" name="funds" id="funds" value="1000" step="1000" min="0" max="1000000" />
        </div>
        <div class="inputOption">
            <label for="num_factories">Number of factories available: </label>
            <input type="number" name="factories" id="factories" value="2" min="0" max="100"  />
            <span>Tip: Hachi's Merchant Union SCOP allows him to treat cities as factories</span>
        </div>
        <div class="inputOption">
            <label for="num_airports">Number of airports available: </label>
            <input type="number" name="airports" id="airports" value="1" min="0" max="100"  />
        </div>
        <div class="inputOption">
            <label for="num_ports">Number of ports available: </label>
            <input type="number" name="ports" id="ports" value="1" min="0" max="100" />
        </div>
        <div class="inputOption">
            <label for="cost_modifier">Cost modifer: </label>
            <input type="number" name="cost_modifier" id="cost_modifier" value="1.0" step="0.05" min="0" max="2" />
            <span>Tip: Colin=0.8, Kanbei=1.2, Hachi(Merchant Union)=0.5: Nell(Barter)=0.5, High Funds=multiply by 2</span>
        </div>
        <div>
            <button id="calculate">Calculate purchase options</button>
        </div>
        <div>
            <div id="sorts">
                <button id="sort_funds">Sort by funds left over</button>
                <button id="sort_unit_price">Sort by most expensive unit</button>
            </div>
            <ul>
                <li>Funds left over - Purchase list</li>
            </ul>
            <ul id="results">

            </ul>
        </div>
        <div>
            Tip: Want to base skip? Reduce the # of bases by 1!
        </div>
        <script>
            let purchaseOptions;
            let sortFn = (x, y) => x - y;
            document.querySelector('#sort_funds').onclick = () => {
                sortFn = (x, y) => x[0] - y[0];
                renderPurchaseOptions();
            };
            document.querySelector('#sort_unit_price').onclick = () => {
                sortFn = (x, y) => y[1][0].cost - x[1][0].cost;
                renderPurchaseOptions();
            };
            document.querySelector("#calculate").onclick = () => {
                const funds = parseInt(document.querySelector("#funds").value);
                const numFactories = parseInt(document.querySelector("#factories").value);
                const numAirports = parseInt(document.querySelector("#airports").value);
                const numPorts = parseInt(document.querySelector("#ports").value);
                const costModifier = parseFloat(document.querySelector("#cost_modifier").value);
                purchaseOptions = getPurchaseOptions(costModifier, funds, numFactories, numAirports, numPorts);
                renderPurchaseOptions();
            };
            function renderPurchaseOptions() {
                const resultsEle = document.querySelector("#results");
                resultsEle.innerHTML = "";
                for (const option of purchaseOptions.sort(sortFn)) {
                    const funds_left = option[0];
                    const purchases = option[1].map(o => o.unit).join(", ");
                    const liEle = document.createElement('li');
                    liEle.innerText = funds_left + " - " + purchases;
                    resultsEle.appendChild(liEle);
                }
            }
        </script>
        <script src="calculator.js"></script>
    </body>
</html>